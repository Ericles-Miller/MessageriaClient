"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const templates_1 = __importDefault(require("../../templates"));
function default_1(templateConfig) {
    const { framework, fvs, ts, test } = templateConfig;
    if (!test) {
        return { files: [] };
    }
    let files = [];
    let devDependencies = {};
    if (framework === 'vue') {
        if (fvs === '2.x') {
            files = [['jest.config.json', templates_1.default.test.jest(templateConfig)]];
            devDependencies = {
                jest: '27.5.1',
                'babel-jest': '27.5.1',
                '@vue/test-utils': '1.3.3',
                '@vue/vue2-jest': '27.0.0',
                '@vue/cli-plugin-unit-jest': '5.0.8',
                'ts-jest': ts ? '27.1.5' : undefined,
                '@types/jest': ts ? '27.5.2' : undefined,
                '@jest/globals': ts ? '27.5.1' : undefined
            };
        }
        else {
            files = [[`vitest.config.${ts ? 'ts' : 'js'}`, templates_1.default.test.vitest(ts)]];
            devDependencies = {
                jsdom: '20.0.3',
                vitest: '0.25.6',
                '@vue/test-utils': '2.2.6',
                '@vitest/coverage-c8': '0.25.6'
            };
        }
    }
    else {
        files = [['jest.config.json', templates_1.default.test.jest(templateConfig)]];
        devDependencies = {
            jest: '29.2.2',
            'ts-jest': ts ? '29.0.3' : undefined,
            '@types/jest': ts ? '29.2.1' : undefined,
            '@jest/globals': ts ? '29.2.2' : undefined
        };
    }
    return {
        files,
        dirs: ['test'],
        devDependencies
    };
}
exports.default = default_1;
